Лабораторная работа №2-3: Анализатор демографических данных
Описание проекта
Проект представляет собой анализатор демографических данных с графическим интерфейсом, позволяющий загружать, фильтровать и визуализировать статистическую информацию из CSV-файлов. Приложение поддерживает построение графиков, расчет статистических метрик и предоставляет удобный интерфейс для анализа данных.

Функциональность
Основные возможности:
Загрузка данных из CSV-файлов с различными демографическими показателями

Фильтрация данных по регионам и временным периодам

Расчет статистических метрик: минимум, максимум, медиана

Визуализация данных в виде интерактивных графиков

Отображение данных в табличном формате с возможностью фильтрации

Валидация данных - проверка корректности загружаемой информации

Поддерживаемые демографические показатели:
Естественный прирост населения

Уровень рождаемости

Уровень смертности

Валовой региональный продукт (ВРП)

Уровень урбанизации

Структура проекта
text
OP_lab2-3/
├── appcontext.h          # Структура контекста приложения
├── entrypoint.h/cpp      # Точка входа операций
├── logic.h/cpp           # Бизнес-логика обработки данных
├── mainwindow.h/cpp      # Главное окно приложения
├── mainwindow.ui         # Qt Designer форма
├── main.cpp              # Точка входа приложения
└── OP_lab2-3.pro         # Файл проекта qmake
Ключевые компоненты
Структура AppContext:
cpp
typedef struct {
    DataPoint* dataPoints;           // Массив точек данных
    int rows;                        // Количество строк
    int cols;                        // Количество колонок
    int invalidRows;                 // Количество некорректных строк
    int dataPointsCount;             // Количество точек данных
    char** headers;                  // Заголовки колонок
    char*** matrix;                  // Матрица данных
} TableData;

typedef struct {
    TableData tableData;             // Табличные данные
    Metrics metrics;                 // Статистические метрики
    FilterParams filtredParams;      // Параметры фильтрации
    bool fileLoaded;                 // Флаг загрузки файла
    bool dataFiltered;               // Флаг фильтрации данных
    char currentFilePath[LEN_PATH];  // Путь к текущему файлу
} AppContext;
Операции анализатора:
cpp
enum Operation {
    Init,        // Инициализация контекста
    LoadData,    // Загрузка данных из файла
    FilterData,  // Фильтрация данных
    Clear        // Очистка ресурсов
};
Алгоритмы обработки данных
Загрузка данных:
Парсинг CSV-файлов с поддержкой различных разделителей

Валидация числовых значений и дат

Обработка некорректных строк с подсчетом ошибок

Динамическое выделение памяти под данные

Фильтрация данных:
Фильтрация по регионам (выборочно или все регионы)

Фильтрация по временным периодам (диапазон лет)

Выбор конкретного демографического показателя для анализа

Расчет статистики:
Сортировка данных для нахождения медианы

Поиск минимального и максимального значений

Расчет медианного значения для четного/нечетного количества точек

Визуализация:
Построение линейных графиков с масштабированием

Выделение ключевых точек (min, max, median) на графике

Отрисовка осей координат и сетки

Добавление подписей и заголовков

Использование
Интерфейс:
Поле пути - отображение выбранного CSV-файла

Таблица данных - отображение загруженной информации

Выбор региона - фильтрация по конкретному региону

Выбор показателя - выбор анализируемой колонки данных

Диапазон лет - установка временного периода анализа

График - визуализация отфильтрованных данных

Кнопки управления:
Выберите файл - открытие диалога выбора CSV-файла

Загрузить данные - загрузка и парсинг выбранного файла

Рассчитать метрики - построение графика и расчет статистики

Выход - завершение работы приложения

Пример работы:
text
Загружен файл: demography_data.csv
Всего строк: 1500
Корректных строк: 1480
Некорректных строк: 20

Регион: Московская область
Показатель: Рождаемость
Период: 2000-2020

Статистика:
▸ Минимум: 8.5
▸ Максимум: 12.3
▸ Медиана: 10.2
Особенности реализации
Безопасность:
Проверка границ буферов при чтении файлов

Обработка ошибок чтения и парсинга

Защита от переполнения памяти

Валидация входных данных

Производительность:
Оптимизированные алгоритмы сортировки и фильтрации

Эффективное использование памяти

Пакетная обработка данных

Минимальное копирование данных

Совместимость:
Кроссплатформенная основа Qt

Поддержка различных кодировок CSV-файлов

Стандартные библиотеки C++

Технические ограничения
Формат данных:
Максимальное количество строк: 5000

Максимальная длина названия региона: 50 символов

Поддерживаемые колонки: Год, Регион, 5 демографических показателей

Формат даты: год (целое число)

Визуализация:
Поддержка линейных графиков

Автоматическое масштабирование осей

Ограниченное количество точек на графике для читаемости

Сборка и запуск
Требования:
Qt 6.0 или новее

C++17 стандарт

Компилятор с поддержкой STL

Сборка:
bash
qmake OP_lab2-3.pro
make
./OP_lab2-3
Примеры анализа
Обычный анализ:
text
Данные:     "Рождаемость по годам для Центрального региона"
Период:     1990-2020
Результат:  График с трендом и статистическими метриками
Сравнительный анализ:
text
Возможность фильтрации по разным регионам
Сравнение показателей между регионами
Анализ временных тенденций
Обработка ошибок
Приложение обрабатывает:

Некорректные CSV-файлы

Отсутствующие колонки данных

Недопустимые числовые значения

Проблемы с памятью

Ошибки визуализации данных
